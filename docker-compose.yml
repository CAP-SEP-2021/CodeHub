version: '3'
services:
  database:
    build: 'database/'
    restart: always
    container_name: 'database'
    image: mysql
    ports:
      - '3306:3306'
    environment:
      - MYSQL_ROOT_PASSWORD=root
    networks:
      - my-thai-star
  reverse-proxy:
    build: 'reverse-proxy/'
    restart: always
    container_name: 'mts_reverse_proxy'
    image: my-thai-star/reverse-proxy:latests
    networks:
      - my-thai-star
    ports:
      - '8888:80'
  angular:
    build: 'angular/'
    restart: always
    container_name: 'mts_angular'
    image: my-thai-star/angular:latest
    networks:
      - my-thai-star
  java:
    build: 'java/'
    restart: always
    container_name: 'mts_java'
    image: my-thai-star/java:latest
    depends_on:
      - "database"
    networks:
      - my-thai-star
networks:
  my-thai-star:
    driver: bridge
